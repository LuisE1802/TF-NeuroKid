<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NeuroKid | Iniciar sesi√≥n</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üß†</text></svg>">

    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ============================================================
        CLASES REVISADAS Y MEJORADAS (TAILWINDCSS CLASES CON @APPLY)
        ============================================================
        */
        
        /* Contenedor principal de la tarjeta/formulario */
        .nk-card { 
            /* Se hace m√°s visible el borde y sombra para un estilo m√°s "card" moderno */
            @apply bg-white shadow-xl rounded-2xl border border-gray-100; 
        }

        /* Enlaces de texto */
        .nk-link { 
            /* Sutil ajuste para mejor contraste y efecto hover */
            @apply text-indigo-600 hover:text-indigo-700 transition duration-150 ease-in-out font-medium; 
        }

        /* Campos de entrada de formulario */
        .nk-input { 
            /* Se a√±ade un foco m√°s limpio y se unifica el estilo */
            @apply w-full px-4 py-2.5 border border-gray-300 rounded-lg placeholder-gray-400 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-150; 
        }
        
        /* Bot√≥n de acci√≥n principal (Iniciar Sesi√≥n) */
        .nk-btn-primary { 
            /* Se asegura un padding consistente y un color de fondo s√≥lido y accesible */
            @apply flex items-center justify-center gap-2 px-6 py-3 text-white bg-indigo-600 rounded-lg font-semibold shadow-md shadow-indigo-500/30 hover:bg-indigo-700 hover:shadow-lg transition duration-200 ease-in-out; 
        }
        
        /* Botones secundarios/ghost (Inicio de sesi√≥n social) - **MEJORA DE VISIBILIDAD** */
        .nk-btn-ghost { 
            /* Mejoramos el contraste con un borde m√°s oscuro y un fondo de hover sutil */
            @apply flex items-center justify-center gap-2 px-4 py-2.5 border border-gray-300 rounded-lg text-gray-700 font-medium bg-white hover:bg-gray-50 transition duration-150 ease-in-out; 
        }
        
        /* Checkbox */
        .nk-checkbox { 
            /* Se mantiene el estilo de color primario */
            @apply h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500; 
        }
        
        /* Ocultar elementos de AOS si no se usa el script */
        [data-aos] { opacity: 1 !important; transform: none !important; }

        /* **CHIPS DE ROL MEJORADOS (ESTILO INACTIVO) ** */
        .nk-chip { 
            /* Se ajusta la altura y el padding para una mejor est√©tica y click area */
            @apply flex flex-col items-center justify-center p-3 text-sm font-medium rounded-xl border cursor-pointer 
                    transition duration-200 ease-in-out h-24; /* Aumentado a h-24 para m√°s espacio */
        }

        /* ESTILOS ESPEC√çFICOS PARA CADA ROL INACTIVO */
        /* Padre (Azul claro) - Se usa un azul m√°s vibrante para mejor distinci√≥n */
        .nk-chip[data-role="padre"] {
            @apply text-blue-700 bg-blue-50 border-blue-300 hover:bg-blue-100;
        }
        /* Psic√≥logo (Rosa/Cereza) - Se usa un color m√°s fuerte */
        .nk-chip[data-role="psicologo"] {
            @apply text-pink-700 bg-pink-50 border-pink-300 hover:bg-pink-100;
        }
        /* Admin (Verde/Teal) - Se usa un verde m√°s neutro y profesional */
        .nk-chip[data-role="admin"] {
            @apply text-emerald-700 bg-emerald-50 border-emerald-300 hover:bg-emerald-100;
        }
        
        /* ESTILO ACTIVO (MISMO PARA TODOS - INDIGO) - **MEJORA DE SOMBRA** */
        .nk-chip--active { 
            /* Sombra m√°s marcada para un efecto de selecci√≥n visible y elegante */
            @apply bg-indigo-600 text-white border-indigo-600 shadow-xl shadow-indigo-300/60 
                    hover:bg-indigo-700 hover:border-indigo-700; 
        }

        /* Ajustes de iconos en chips */
        .nk-chip i { 
            @apply w-6 h-6 mb-2; /* Iconos m√°s grandes para mejor visibilidad */
        }
        .nk-chip--active i {
            @apply text-white; 
        }
    </style>
</head>

<body class="antialiased bg-gray-50 min-h-screen">
    <main class="w-full min-h-screen flex items-center justify-center p-4 md:p-10">
        <section class="w-full max-w-lg mx-auto" data-aos="fade-up">
            <div class="nk-card p-6 md:p-8"> 
                <div class="text-center mb-6">
                    <span class="inline-block p-3 bg-indigo-100 text-indigo-600 rounded-full mb-3">
                        <i data-feather="monitor" class="w-6 h-6"></i>
                    </span>
                    <h1 class="text-3xl font-extrabold text-gray-900">Bienvenido/a a NeuroKid</h1>
                    <p class="text-gray-500 mt-2 text-base">
                        Inicia sesi√≥n para acceder a tu panel personalizado.
                    </p>
                </div>


                <form class="mt-8 space-y-6" onsubmit="return false;" aria-labelledby="titleLogin">
                    <h2 id="titleLogin" class="sr-only">Formulario de inicio de sesi√≥n</h2>

                    <label class="block">
                        <span class="block text-sm font-medium text-gray-700 mb-2">Selecciona tu Rol</span>
                        <div id="rolSelector" class="grid grid-cols-3 gap-4"> 
                            <button type="button" class="nk-chip nk-chip--active" data-role="padre" aria-pressed="true">
                                <i data-feather="users"></i> Padre
                            </button>
                            <button type="button" class="nk-chip" data-role="psicologo" aria-pressed="false">
                                <i data-feather="heart"></i> Psic√≥logo
                            </button>
                            <button type="button" class="nk-chip" data-role="admin" aria-pressed="false">
                                <i data-feather="shield"></i> Admin
                            </button>
                        </div>
                        <input id="roleHidden" type="hidden" value="padre" aria-hidden="true" />
                    </label>

                    <label class="block">
                        <span class="block text-sm font-medium text-gray-700 mb-1">Correo electr√≥nico</span>
                        <input type="email" class="nk-input" placeholder="tu@correo.com" autocomplete="username"
                            required />
                    </label>

                    <label class="block">
                        <span class="block text-sm font-medium text-gray-700 mb-1">Contrase√±a</span>
                        <div class="relative">
                            <input id="password" type="password" class="nk-input pr-12" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                autocomplete="current-password" required />
                            <button type="button"
                                class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-500 hover:text-gray-700"
                                aria-label="Mostrar u ocultar contrase√±a" data-toggle-password>
                                <i data-feather="eye" class="w-5 h-5"></i>
                            </button>
                        </div>
                    </label>

                    <div class="flex items-center justify-between">
                        <label class="inline-flex items-center gap-2 text-sm text-gray-600">
                            <input type="checkbox" class="nk-checkbox" /> Recordarme
                        </label>
                        <a href="#" class="nk-link text-sm">¬øOlvidaste tu contrase√±a?</a>
                    </div>

                    <button id="btnLogin" class="nk-btn-primary w-full mt-6" aria-label="Iniciar sesi√≥n">
                        <i data-feather="log-in" class="w-5 h-5"></i> Iniciar sesi√≥n
                    </button>

                    <p class="text-sm text-gray-500 text-center pt-2">
                        ¬øNo tienes cuenta?
                        <a href="./register.html" class="nk-btn-primary">Crear una cuenta</a>
                    </p>
                </form>

                <div class="mt-8">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center" aria-hidden="true">
                            <div class="w-full border-t border-gray-200"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-3 bg-white text-gray-500">o continuar con</span>
                        </div>
                    </div>

                    <div class="mt-4 grid grid-cols-3 gap-3">
                        <button class="nk-btn-ghost w-full text-sm"><i data-feather="mail" class="w-5 h-5"></i> Gmail</button>
                        <button class="nk-btn-ghost w-full text-sm"><i data-feather="smartphone" class="w-5 h-5"></i> Apple</button>
                        <button class="nk-btn-ghost w-full text-sm"><i data-feather="globe" class="w-5 h-5"></i> SSO</button>
                    </div>
                    <p class="mt-3 text-xs text-gray-400 text-center">Demo UI: estos botones no realizan autenticaci√≥n real.</p>
                </div>

            </div>
        </section>
    </main>

    <script>
        // Inicializa los iconos de Feather Icons
        feather.replace();

        // ============================
        // L√ìGICA DE INTERACCI√ìN (UX)
        // ============================

        // 1. Selector de rol con chips
        const chips = document.querySelectorAll(".nk-chip");
        const roleHidden = document.getElementById("roleHidden");
        const rolSelector = document.getElementById("rolSelector");

        rolSelector.addEventListener('click', (e) => {
            const chip = e.target.closest('.nk-chip');
            if (chip) {
                // Remueve 'nk-chip--active' y 'aria-pressed' de todos los chips
                chips.forEach(c => {
                    c.classList.remove("nk-chip--active");
                    c.setAttribute("aria-pressed", "false");
                    // Asegura que los iconos vuelvan a su color inactivo (se maneja por CSS)
                    c.querySelector('i').classList.remove('text-white'); 
                });
                
                // A√±ade 'nk-chip--active' y 'aria-pressed' al chip clickeado
                chip.classList.add("nk-chip--active");
                chip.setAttribute("aria-pressed", "true");

                // Actualiza el valor del input hidden
                roleHidden.value = chip.getAttribute("data-role");
            }
        });

        // 2. Mostrar / ocultar contrase√±a
        const toggleBtn = document.querySelector("[data-toggle-password]");
        const passInput = document.getElementById("password");
        if(toggleBtn && passInput) {
            // Se asegura de que el estado inicial del bot√≥n sea correcto (ojo abierto)
            toggleBtn.innerHTML = feather.icons["eye"].toSvg(); 
            
            toggleBtn.addEventListener("click", () => {
                const isPwd = passInput.type === "password";
                passInput.type = isPwd ? "text" : "password";
                
                // Cambia el icono y el label de accesibilidad
                toggleBtn.innerHTML = isPwd ? feather.icons["eye-off"].toSvg() : feather.icons["eye"].toSvg();
                toggleBtn.setAttribute('aria-label', isPwd ? "Ocultar contrase√±a" : "Mostrar contrase√±a");
            });
        }
        
        // 3. Demo de redirecci√≥n
        document.getElementById("btnLogin").addEventListener("click", () => {
            // Evitar que el form se env√≠e si los campos est√°n vac√≠os (simulaci√≥n de validaci√≥n simple)
            if (!passInput.value || !document.querySelector('input[type="email"]').value) {
                 alert("Por favor, rellena el correo electr√≥nico y la contrase√±a para simular el inicio de sesi√≥n.");
                 return;
            }

            const role = roleHidden.value;
            alert(`‚úÖ Inicio de sesi√≥n simulado como ${role.toUpperCase()}. Redirecci√≥n desactivada para vista de modal.`);
        });
    </script>
</body>

</html>